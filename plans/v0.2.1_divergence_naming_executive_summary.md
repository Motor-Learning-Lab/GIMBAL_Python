# GIMBAL v0.2.1 Divergence Naming Restructure — Executive Summary

**Date:** 2025-12-14  
**Status:** Proposal Ready for Implementation  
**Impact:** Organizational only (no algorithm changes)

---

## Problem Statement

The v0.2.1 divergence debugging effort accumulated:
- 2 overlapping plan documents with unclear hierarchy
- Test groups numbered 1-11 across two different systems
- 3 conceptual "issues" without stable identifiers
- Inconsistent file naming (group_9 vs group_10 vs test_baseline)

Result: Difficult to audit, grep, or extend without confusion.

---

## Solution: Minimal Preserving Restructure

### Core Principles
1. **Preserve all files** (no deletion)
2. **Stable Issue IDs:** I1, I2, I3 (never reused)
3. **Zero-padded Test Groups:** TG01, TG02, ... TG11a, TG11b
4. **One canonical plan:** `v0.2.1_divergence_plan_2.md`
5. **Machine-parseable filenames:** `test_tg09_I1_root_fixed.py`

### Issue Registry
- **I1:** Root Dynamics / Temporal Coupling
- **I2:** Camera Conditioning / Projection Geometry  
- **I3:** Redundancy / Identifiability

### Test Group Mapping
| TG | Issue | Description | Status |
|----|-------|-------------|--------|
| TG01-08 | *(archive)* | Pre-Issue framework tests | Complete |
| **TG09** | **I1** | Root RW (anchored vs fixed) | **Complete** |
| **TG10** | **I2** | Camera (projection vs direct 3D) | **Pending** |
| **TG11a** | **I3** | Redundancy (fixed to GT) | **Pending** |
| **TG11b** | **I3** | Redundancy (strong priors) | **Pending** |

---

## Deliverables (Created)

1. **`v0.2.1_DIVERGENCE_NAMING_RESTRUCTURE.md`**
   - Full specification with rationale
   - File mapping tables (current → proposed)
   - Migration strategy (4 phases)
   - Future guidelines for adding TG12+

2. **`v0.2.1_DIVERGENCE_NAMING_QUICK_REFERENCE.md`**
   - Cheat sheet for daily use
   - Bash commands for renaming
   - Grep patterns
   - Code update locations

3. **`v0.2.1_DIVERGENCE_PLAN_ADDITION.md`**
   - Exact text to insert into canonical plan
   - Shows current status of I1/I2/I3
   - Links to related documents

---

## Why This Works

### ✅ Stable & Scalable
- Issue IDs never change (I1 = root dynamics, forever)
- Test Groups sort properly (TG01, TG02, not TG1, TG2)
- Adding TG12 doesn't break existing references

### ✅ Machine-Parseable
```bash
ls test_tg*.py               # All test groups
grep "I2" tests/             # All Issue I2 materials
ls report_tg09_*             # TG09 reports
```

### ✅ Clear Hierarchy
- One canonical plan (not "plan_2_revised_final")
- Archive clearly labeled
- Deep dives use stable Issue IDs

### ✅ No Code Changes Required (Yet)
- Phase 1 (rename archive doc) is documentation only
- Phases 2-4 (file renames, imports) can be done incrementally
- No rush — structure is defined even before renaming

---

## Implementation Path

### Immediate (No Code Changes)
1. Review proposal documents
2. Approve naming scheme
3. Rename archive doc: `v0.2.1_divergence_test_plan.md` → `v0.2.1_divergence_TG01-08_archive.md`

### Phase 2 (Code Changes - Active Tests)
```bash
# Rename TG09-11 files
git mv test_group_9_root_fixed.py test_tg09_I1_root_fixed.py
git mv test_group_10_direct_3d.py test_tg10_I2_direct_3d.py
git mv test_group_11_redundancy_fixed.py test_tg11a_I3_redundancy_fixed.py
git mv test_group_11_redundancy_priors.py test_tg11b_I3_redundancy_priors.py
```

### Phase 3 (Update References)
- Fix imports in `test_runner.py`
- Update function names in test files
- Update report/results paths

### Phase 4 (Update Canonical Plan)
- Add "Status & Organization" section (text provided in `v0.2.1_DIVERGENCE_PLAN_ADDITION.md`)

---

## Future Use

### Adding Test Group TG12
```bash
# Determine: Which Issue? (or create I4)
# Choose slug: "new_hypothesis"
touch test_tg12_I2_new_hypothesis.py
# Will generate: report_tg12_I2_new_hypothesis.md
#                results_tg12_I2_new_hypothesis.json
```

### Adding Issue I4
```markdown
# In v0.2.1_divergence_plan_2.md
## Issue I4: New Geometry Problem
...
Test Groups: TG13, TG14
```

### No Renaming Chaos
- Old references (TG09) still work
- Issues (I1, I2, I3) are stable
- Structure scales to TG99+ and I9+

---

## Questions to Resolve

1. **Approve naming scheme?** (I1/I2/I3, TG##, zero-padding)
2. **Execute Phase 1 now?** (rename archive doc — zero risk)
3. **Timeline for Phases 2-4?** (git mv + code updates)
4. **Archive TG01-08 files?** (optional, low priority)

---

## Key Files Reference

| Document | Purpose |
|----------|---------|
| `v0.2.1_DIVERGENCE_NAMING_RESTRUCTURE.md` | Full spec, rationale, tables |
| `v0.2.1_DIVERGENCE_NAMING_QUICK_REFERENCE.md` | Daily cheat sheet |
| `v0.2.1_DIVERGENCE_PLAN_ADDITION.md` | Text to add to canonical plan |
| `v0.2.1_divergence_plan_2.md` | **Canonical roadmap** (to be updated) |
| `v0.2.1_divergence_TG01-08_archive.md` | Archive (to be renamed) |

---

**Status:** Ready for review and approval.  
**Next:** Approve scheme → Execute Phase 1 → Schedule Phases 2-4.
